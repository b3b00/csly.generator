using csly.models;

namespace tester;

public enum Lexer {

    [AlphaId]
    ID,

    [Int]
    INT,

    [Sugar(";")]
    SEMI,


}

[ParserRoot("root")]
public class Parser {

    [Production("root: (ID INT)* semi")]
    public string root(List<Group<Lexer,string>> groups, string semi) {
        return string.Join(", ",groups.Select(x => x.Token(0).Value+":"+x.Token(1).Value));
    }

    [Production("semi : SEMI")]
    public string Semi(Token<Lexer> semi) {
        return semi.Value;
    }

}

[ParserGenerator]
public partial class Test : AbstractParserGenerator<Lexer,Parser,string> {

}